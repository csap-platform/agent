<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"  xmlns:th="http://www.thymeleaf.org">



	<head th:fragment="pageContent" th:remove="tag" >

		<title th:inline="text">edit:[[ ${ csapApp.getName() } ]]</title>

		<script th:replace="~{ csap/fragments/libsAndStyles :: pageContent }"></script>


		<script th:src="@{ ${csapApp.versionedUrl('/js/csapLibs/commonJQ.js')} }"></script>
		<script th:src="@{ ${csapApp.versionedUrl('/js/csapLibs/csapUtils/CsapUser.js')} }"></script>



		<link th:href="@{ ${csapApp.versionedUrl('/js/csapLibs/qtip/jquery.qtip.min.css')} }" rel="stylesheet"  type="text/css" media="screen" />
		<script th:src="@{ ${csapApp.versionedUrl('/js/csapLibs/qtip/jquery.qtip.min.js')} }"></script>




		<link th:href="@{ ${csapApp.versionedUrl('/js/csapLibs/jquery.contextMenu.css')} }" rel="stylesheet"  type="text/css" media="screen" />
		<script th:src="@{ ${csapApp.versionedUrl('/js/csapLibs/jquery.contextMenu.js')} }"></script>


		<script th:inline="javascript">

			var addHostUrl = [[ ${ csapApp.getRootModel().getInfraAddHost()  }]];
			
			var baseUrl = [[@{ ${ T(org.csap.agent.CsapCoreService).BASE_URL}}]];
			var inHostMode = false;
			var fileUrl = [[ @{ ${ T(org.csap.agent.CsapCoreService).FILE_URL} } ]]
			var osUrl = [[ @{ ${ T(org.csap.agent.CsapCoreService).OS_URL} } ]]
			
			var lifeEditUrl = [[ @{ ${ T(org.csap.agent.CsapCoreService).EDIT_URL+ '/lifecycle'} } ]]
			var lifeUpdateUrl = [[@{ ${ T(org.csap.agent.CsapCoreService).DEFINITION_URL}}]] + '/lifecycle';
			
			var serviceEditUrl = [[@{ ${ T(org.csap.agent.CsapCoreService).EDIT_URL}}]] + '/serviceDialog';
			var serviceDefUrl = [[@{ ${ T(org.csap.agent.CsapCoreService).DEFINITION_URL}}]] + '/service';
			
			
			var settingsEditUrl = [[@{ ${ T(org.csap.agent.CsapCoreService).EDIT_URL}}]] + '/settingsDialog';
			var settingsDefUrl = [[@{ ${ T(org.csap.agent.CsapCoreService).DEFINITION_URL}}]] + '/settings';
			
			var clusterEditUrl = [[@{ ${ T(org.csap.agent.CsapCoreService).EDIT_URL}}]] + '/clusterDialog';
			var clusterDefUrl = [[@{ ${ T(org.csap.agent.CsapCoreService).DEFINITION_URL}}]] + '/cluster';
			
			var rootPackageName = [[ ${ rootPackageName } ]] ;
			var serviceName = "pendingSelection";
			//var hostName = "*";
			
			var definitionName = [[ ${ definitionName } ]] ;
			
			var lifecycle=[[ ${ lifecycle } ]] ;
			


			var historyUrl = [[${lifeCycleSettings.historyUiUrl}]];
			//alert(serviceHosts) ;
			var hostName = [[${T(org.csap.agent.model.Application).HOST_NAME}]];
			var lb = [[${lifeCycleSettings.lbUrl}]];
			var userid = [[${userid}]];
			var deployTimeout = 10000; // default 10s
			var serviceName = "null";
			var defaultLifeCycle = [[${lifecycle}]];
			var definitionBaseUrl = [[ @{ ${ T(org.csap.agent.CsapCoreService).DEFINITION_URL} } ]];
			var portStart = [[${lifeCycleSettings.getPortStart()}]];
			var portEnd = [[${lifeCycleSettings.getPortEnd()}]];
			
			// hooked into jsoneditor expander method
			var currentElementInJson = "capability";
			var currentElementPath = "";
			
			var __packageToFileMap = [[ ${ packageMap } ]]

		</script>


		<!-- https://github.com/mar10/fancytree/releases -->
		<link th:href="@{/webjars/fancytree/2.19.0/dist/skin-win7/ui.fancytree.min.css}" rel="stylesheet" type="text/css" />
		<script th:src="@{/webjars/fancytree/2.19.0/dist/src/jquery.fancytree.js}"></script>

<!--   
		<link th:href="@{ ${csapApp.versionedUrl('/js/editor/tree-json.css')} }" rel="stylesheet"  type="text/css" media="screen" />
		<script th:src="@{ ${csapApp.versionedUrl('/js/editor/templates.js')} }"></script>
		<script th:src="@{ ${csapApp.versionedUrl('/js/editor/editor.js')} }"></script>-->
		<script th:src="@{ ${csapApp.versionedUrl('/js/deployment/menus.js')} }"></script>
		
		<script  th:attr="data-main=@{ ${csapApp.requiresUrl('/js/editor/modules/edit-main.js')}   }" 
			th:src="@{/webjars/requirejs/2.1.20/require.min.js}"></script>

		<link th:href="@{ ${csapApp.versionedUrl('/js/csapLibs/lineNums/jquery-linedtextarea.css')} }" rel="stylesheet"  type="text/css" media="screen" />
		<script th:src="@{ ${csapApp.versionedUrl('/js/csapLibs/lineNums/jquery-linedtextarea.js')} }"></script>
		
		
		<link th:href="@{ ${csapApp.versionedUrl('/js/editor/dialog-cluster.css')} }" rel="stylesheet"  type="text/css" media="screen" />
		<link th:href="@{ ${csapApp.versionedUrl('/js/editor/editor-dialog-service.css')} }" rel="stylesheet"  type="text/css" media="screen" />
		<link th:href="@{ ${csapApp.versionedUrl('/js/editor/dialog-settings.css')} }" rel="stylesheet"  type="text/css" media="screen" />
		
		<link th:href="@{ ${csapApp.versionedUrl('/js/editor/life-edit.css')} }" rel="stylesheet"  type="text/css" media="screen" />
		<link th:href="@{ ${csapApp.versionedUrl('/js/editor/editor.css')} }" rel="stylesheet"  type="text/css" media="screen" />

	</head>
</html>
